<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Dashboard</title>
</head>
<body style="margin:0; font-family:'Segoe UI',Arial,sans-serif; background:url('https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=1500&q=80') no-repeat center center fixed; background-size:cover;">
  <div style="background:rgba(255,255,255,0.93); max-width:620px; margin:48px auto; border-radius:18px; box-shadow:0 4px 32px #0002; padding:40px 32px; animation:fadein 1.2s;">
  <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Bank Logo" style="width:60px; margin-bottom:18px; filter:drop-shadow(0 2px 6px #0002); display:block; margin-left:auto; margin-right:auto;">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div style="padding:12px; border-radius:6px; margin-bottom:16px; text-align:center; font-weight:500; background:{% if category == 'danger' %}#f8d7da{% elif category == 'success' %}#d4edda{% else %}#e2e3e5{% endif %}; color:{% if category == 'danger' %}#721c24{% elif category == 'success' %}#155724{% else %}#383d41{% endif %};">{{message}}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    <h3 style="font-weight:700; margin-bottom:16px; text-align:center; color:#1a237e;">Hello, {{name}}</h3>
    <p style="text-align:center; margin-bottom:8px;">Account: <b>{{acc_no}}</b></p>
    <p style="text-align:center; margin-bottom:24px;">Balance: <b>₹{{bal}}</b></p>

    <form action="/deposit/{{user_id}}" method="post" style="display:flex; gap:12px; margin-bottom:16px; justify-content:center;">
      <input type="number" name="amount" placeholder="Amount" required style="padding:10px; border-radius:8px; border:1px solid #bbb; width:140px;">
      <button type="submit" style="padding:12px 28px; background:#43a047; color:#fff; border:none; border-radius:8px; font-weight:600; cursor:pointer; font-size:1em; box-shadow:0 2px 8px #43a04733; transition:background 0.2s;">Deposit</button>
    </form>

    <form action="/withdraw/{{user_id}}" method="post" style="display:flex; gap:12px; margin-bottom:24px; justify-content:center;">
      <input type="number" name="amount" placeholder="Amount" required style="padding:10px; border-radius:8px; border:1px solid #bbb; width:140px;">
      <button type="submit" style="padding:12px 28px; background:#ffc107; color:#212529; border:none; border-radius:8px; font-weight:600; cursor:pointer; font-size:1em; box-shadow:0 2px 8px #ffc10733; transition:background 0.2s;">Withdraw</button>
    </form>

    <h5 style="margin-bottom:8px;">Check Balance</h5>
    <p style="margin-bottom:24px;">Current Balance: <b>₹{{bal}}</b></p>

    <h5 style="margin-bottom:8px;">Transaction History</h5>
    {% if history and history|length > 0 %}
      <ul style="list-style:none; padding:0;">
      {% for txn in history %}
        <li style="background:#f1f3f4; margin-bottom:6px; padding:10px 16px; border-radius:8px; font-size:1em;">{{txn}}</li>
      {% endfor %}
      </ul>
    {% else %}
      <p>No transactions yet.</p>
    {% endif %}

    <div style="text-align:center; margin-top:24px;">
      <a href="/logout" style="padding:12px 28px; background:#6c757d; color:#fff; border-radius:8px; text-decoration:none; font-weight:600; font-size:1em; box-shadow:0 2px 8px #6c757d33; transition:background 0.2s;">Logout</a>
    </div>
  </div>
  <style>
    @keyframes fadein { from { opacity:0; transform:translateY(30px);} to { opacity:1; transform:none; } }
    button:hover, a:hover { filter:brightness(1.08); }
  </style>
</body>
</html>
